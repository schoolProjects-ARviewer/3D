<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Viewer WV</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    <h1>Scan een QR-code om een model te laden</h1>

    <!-- QR-code invoerveld -->
    <input type="text" id="qr-input" placeholder="Scan hier de QR-code link" oninput="loadFromQR()">

    <br><br>

    <!-- Model Viewer -->
    <model-viewer id="ar-viewer" 
        src=""  <!-- Laat leeg; wordt later geladen -->
        alt="3D Model" 
        auto-rotate camera-controls ar ar-modes="webxr scene-viewer quick-look"
        style="width: 100%; height: 500px;">
    </model-viewer>

    <br><br>

    <!-- AR Start knop -->
    <button onclick="startAR()">Bekijk in AR</button>

    <script>
        function loadFromQR() {
            let qrInput = document.getElementById("qr-input").value;
            let modelViewer = document.getElementById("ar-viewer");

            // Controleer of het een geldige link is
            if (qrInput.startsWith("https://")) {
                modelViewer.src = qrInput;
                console.log("Model geladen:", qrInput);
            } else {
                console.log("Ongeldige link:", qrInput);
            }
        }

        function startAR() {
            let modelViewer = document.getElementById("ar-viewer");
            modelViewer.activateAR();
        }
    </script>

</body>
</html>
